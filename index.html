<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game Ikatan Kimia</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f0f8ff;
            margin: 0;
            padding: 20px;
            color: #333;
        }
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background-color: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
        }
        h1 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 20px;
        }
        .game-board {
            display: grid;
            grid-template-columns: repeat(10, 1fr);
            gap: 10px;
            margin-bottom: 20px;
        }
        .cell {
            border: 2px solid #3498db;
            border-radius: 5px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            position: relative;
            background-color: #ecf0f1;
            cursor: pointer;
            transition: all 0.3s;
        }
        .cell.special {
            background-color: #e74c3c;
            color: white;
        }
        .cell.bonus {
            background-color: #2ecc71;
            color: white;
        }
        .cell.skip {
            background-color: #f39c12;
            color: white;
        }
        .player {
            width: 20px;
            height: 20px;
            background-color: #9b59b6;
            border-radius: 50%;
            border: 2px solid #8e44ad;
            position: absolute;
            top: 5px;
            right: 5px;
        }
        .controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 20px;
        }
        button {
            padding: 10px 20px;
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: #2980b9;
        }
        button:disabled {
            background-color: #bdc3c7;
            cursor: not-allowed;
        }
        .game-info {
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
            border-left: 5px solid #3498db;
        }
        .question-container {
            background-color: #f1f9fe;
            padding: 20px;
            border-radius: 5px;
            margin: 20px 0;
            border: 1px solid #3498db;
            display: none;
        }
        .options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-top: 15px;
        }
        .option {
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.2s;
        }
        .option:hover {
            background-color: #e0f7fa;
        }
        .option.selected {
            background-color: #3498db;
            color: white;
        }
        .result {
            margin-top: 15px;
            padding: 10px;
            border-radius: 5px;
            display: none;
        }
        .result.correct {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .result.incorrect {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        .dice-animation {
            font-size: 36px;
            text-align: center;
            margin: 10px 0;
            min-height: 50px;
        }
        .game-message {
            text-align: center;
            font-size: 20px;
            margin: 20px 0;
            padding: 10px;
            border-radius: 5px;
            background-color: #d4edda;
            display: none;
        }
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.7);
            z-index: 100;
            justify-content: center;
            align-items: center;
        }
        .modal-content {
            background-color: white;
            padding: 30px;
            border-radius: 10px;
            max-width: 600px;
            text-align: center;
        }
        .modal h2 {
            color: #2c3e50;
            margin-top: 0;
        }
        .modal p {
            font-size: 18px;
            margin-bottom: 20px;
        }
        .legend {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 20px;
        }
        .legend-item {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 3px;
        }
        .special-effect {
            position: absolute;
            font-size: 10px;
            bottom: 5px;
            text-align: center;
            width: 100%;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Game Ikatan Kimia</h1>
        
        <div class="legend">
            <div class="legend-item">
                <div class="legend-color" style="background-color: #e74c3c;"></div>
                <span>Maju/Mundur</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: #2ecc71;"></div>
                <span>Bonus Poin</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: #f39c12;"></div>
                <span>Lewati Giliran</span>
            </div>
        </div>
        
        <div class="game-info">
            <p><strong>Skor:</strong> <span id="score">0</span></p>
            <p><strong>Posisi:</strong> <span id="position">1</span></p>
            <p><strong>Status:</strong> <span id="status">Siap bermain</span></p>
        </div>
        
        <div class="game-board" id="board"></div>
        
        <div class="dice-animation" id="dice">🎲</div>
        
        <div class="controls">
            <button id="roll-dice">Lempar Dadu</button>
            <button id="restart" disabled>Mulai Baru</button>
        </div>
        
        <div class="question-container" id="question-container">
            <h3 id="question-text">Pertanyaan akan muncul di sini</h3>
            <div class="options" id="options-container"></div>
            <div class="result" id="result"></div>
            <button id="continue" style="display: none; margin-top: 15px;">Lanjutkan</button>
        </div>
        
        <div class="game-message" id="game-message"></div>
    </div>
    
    <div class="modal" id="victory-modal">
        <div class="modal-content">
            <h2>Selamat!</h2>
            <p>Anda telah menyelesaikan permainan!</p>
            <p>Skor Akhir: <span id="final-score">0</span></p>
            <button id="play-again">Main Lagi</button>
        </div>
    </div>
    
    <script>
        // Data soal-soal ikatan kimia
        const questions = [
            {
                question: "Jenis ikatan yang terbentuk antara atom Natrium (Na) dan Klor (Cl) adalah...",
                options: ["Ikatan Ionik", "Ikatan Kovalen", "Ikatan Kovalen Koordinasi", "Ikatan Logam"],
                correctAnswer: 0
            },
            {
                question: "Jenis ikatan yang terjadi antar atom dengan pemakaian bersama pasangan elektron adalah...",
                options: ["Ikatan Logam", "Ikatan Ionik", "Ikatan Kovalen", "Ikatan Van der Waals"],
                correctAnswer: 2
            },
            {
                question: "Ikatan yang terjadi karena adanya gaya tarik-menarik antara ion positif dan ion negatif adalah...",
                options: ["Ikatan Kovalen", "Ikatan Ion", "Ikatan Hidrogen", "Ikatan Logam"],
                correctAnswer: 1
            },
            {
                question: "Senyawa berikut yang memiliki ikatan kovalen adalah...",
                options: ["NaCl", "MgO", "H₂O", "CaF₂"],
                correctAnswer: 2
            },
            {
                question: "Senyawa NH₃ memiliki bentuk molekul...",
                options: ["Linear", "Segitiga Planar", "Tetrahedral", "Trigonal Piramidal"],
                correctAnswer: 3
            },
            {
                question: "Ikatan yang terbentuk karena adanya gaya tarik-menarik antara atom yang sangat elektronegatif (F, O, N) dengan atom H adalah...",
                options: ["Ikatan Hidrogen", "Ikatan Van der Waals", "Ikatan Kovalen", "Ikatan Ionik"],
                correctAnswer: 0
            },
            {
                question: "Senyawa berikut yang memiliki ikatan ionik adalah...",
                options: ["CO₂", "H₂O", "NH₃", "KCl"],
                correctAnswer: 3
            },
            {
                question: "Pada molekul CO₂, jenis ikatan yang terbentuk adalah...",
                options: ["Ikatan Ionik", "Ikatan Kovalen Tunggal", "Ikatan Kovalen Rangkap", "Ikatan Hidrogen"],
                correctAnswer: 2
            },
            {
                question: "Senyawa berikut yang memiliki ikatan kovalen polar adalah...",
                options: ["O₂", "H₂", "HCl", "Cl₂"],
                correctAnswer: 2
            },
            {
                question: "Ikatan yang terjadi karena adanya elektron-elektron valensi yang dapat bergerak bebas adalah...",
                options: ["Ikatan Ion", "Ikatan Kovalen", "Ikatan Hidrogen", "Ikatan Logam"],
                correctAnswer: 3
            },
            {
                question: "Molekul yang memiliki ikatan kovalen rangkap dua adalah...",
                options: ["H₂", "O₂", "N₂", "F₂"],
                correctAnswer: 1
            },
            {
                question: "Ikatan kovalen koordinasi terdapat pada senyawa...",
                options: ["H₂O", "NH₃", "H₂SO₄", "SO₃"],
                correctAnswer: 2
            },
            {
                question: "Unsur yang memiliki konfigurasi elektron 2, 8, 8, 1 akan membentuk ikatan ionik dengan unsur yang memiliki konfigurasi elektron...",
                options: ["2, 8, 7", "2, 8, 8, 2", "2, 8, 18, 1", "2, 8, 18, 7"],
                correctAnswer: 0
            },
            {
                question: "Bentuk molekul PCl₅ adalah...",
                options: ["Tetrahedral", "Trigonal Piramidal", "Trigonal Bipiramidal", "Oktahedral"],
                correctAnswer: 2
            },
            {
                question: "Senyawa yang memiliki ikatan rangkap tiga adalah...",
                options: ["O₂", "CO₂", "N₂", "C₂H₂"],
                correctAnswer: 2
            },
            {
                question: "Molekul yang memiliki momen dipol sama dengan nol adalah...",
                options: ["H₂O", "NH₃", "CCl₄", "HCl"],
                correctAnswer: 2
            },
            {
                question: "Unsur X dengan konfigurasi elektron 2, 8, 18, 8, 2 akan membentuk senyawa dengan rumus...",
                options: ["XO", "X₂O", "XO₂", "X₂O₃"],
                correctAnswer: 0
            },
            {
                question: "Senyawa berikut yang merupakan senyawa kovalen non-polar adalah...",
                options: ["HF", "H₂O", "NH₃", "Cl₂"],
                correctAnswer: 3
            },
            {
                question: "Jumlah pasangan elektron bebas pada molekul H₂O adalah...",
                options: ["0", "1", "2", "3"],
                correctAnswer: 2
            },
            {
                question: "Senyawa berikut yang memiliki ikatan kovalen dan ikatan ion adalah...",
                options: ["NaCl", "MgO", "NH₄Cl", "HCl"],
                correctAnswer: 2
            },
            {
                question: "Molekul yang bersifat polar adalah...",
                options: ["H₂", "O₂", "NH₃", "CH₄"],
                correctAnswer: 2
            },
            {
                question: "Berdasarkan teori VSEPR, molekul SF₆ memiliki bentuk...",
                options: ["Tetrahedral", "Oktahedral", "Trigonal Bipiramidal", "Segiempat Planar"],
                correctAnswer: 1
            },
            {
                question: "Ikatan kovalen terjadi antara...",
                options: ["Sesama unsur logam", "Logam dan non-logam", "Sesama unsur non-logam", "Unsur dan senyawa"],
                correctAnswer: 2
            },
            {
                question: "Rumus titik elektron dari molekul Cl₂ yang benar adalah...",
                options: ["Cl:Cl", "Cl⁺ Cl⁻", "[:Cl-Cl:]", "[Cl-Cl]"],
                correctAnswer: 2
            },
            {
                question: "Senyawa berikut yang memiliki ikatan ion adalah...",
                options: ["SO₂", "CO₂", "N₂O", "MgO"],
                correctAnswer: 3
            },
            {
                question: "Ikatan hidrogen terjadi pada senyawa...",
                options: ["CH₄", "HF", "CO₂", "C₂H₆"],
                correctAnswer: 1
            },
            {
                question: "Senyawa yang memiliki ikatan kovalen koordinasi adalah...",
                options: ["NH₃", "H₂O", "SO₃", "NaCl"],
                correctAnswer: 2
            },
            {
                question: "Senyawa yang memiliki struktur Lewis [O=C=O] adalah...",
                options: ["CO", "CO₂", "H₂CO₃", "C₂H₄O"],
                correctAnswer: 1
            },
            {
                question: "Ikatan kimia yang terjadi karena adanya gaya tarik menarik elektrostatik antara ion positif dan ion negatif adalah...",
                options: ["Ikatan Ion", "Ikatan Kovalen", "Ikatan Logam", "Ikatan Hidrogen"],
                correctAnswer: 0
            },
            {
                question: "Senyawa berikut yang memiliki ikatan kovalen polar adalah...",
                options: ["Cl₂", "O₂", "N₂", "HCl"],
                correctAnswer: 3
            }
        ];

        // Variabel game
        let playerPosition = 1;
        let playerScore = 0;
        let currentQuestion = null;
        let skipNextTurn = false;
        let gameActive = true;

        // Inisialisasi papan permainan
        const board = document.getElementById('board');
        const specialCells = [5, 9, 14, 19, 23, 27]; // Sel untuk maju/mundur
        const bonusCells = [7, 12, 21, 25]; // Sel untuk bonus poin
        const skipCells = [11, 18, 26]; // Sel untuk lewati giliran

        // Inisialisasi papan permainan
        function initializeBoard() {
            board.innerHTML = '';
            for (let i = 1; i <= 30; i++) {
                const cell = document.createElement('div');
                cell.className = 'cell';
                cell.textContent = i;
                
                // Menentukan kelas spesial untuk sel
                if (specialCells.includes(i)) {
                    cell.classList.add('special');
                    const effect = Math.random() < 0.5 ? 
                        `Maju ${Math.floor(Math.random() * 3) + 1}` : 
                        `Mundur ${Math.floor(Math.random() * 3) + 1}`;
                    
                    const specialEffect = document.createElement('div');
                    specialEffect.className = 'special-effect';
                    specialEffect.textContent = effect;
                    cell.appendChild(specialEffect);
                } else if (bonusCells.includes(i)) {
                    cell.classList.add('bonus');
                    const bonusEffect = document.createElement('div');
                    bonusEffect.className = 'special-effect';
                    bonusEffect.textContent = '+2 Poin';
                    cell.appendChild(bonusEffect);
                } else if (skipCells.includes(i)) {
                    cell.classList.add('skip');
                    const skipEffect = document.createElement('div');
                    skipEffect.className = 'special-effect';
                    skipEffect.textContent = 'Lewati Giliran';
                    cell.appendChild(skipEffect);
                }
                
                board.appendChild(cell);
            }
            
            // Tambahkan token pemain ke posisi awal
            updatePlayerPosition();
        }

        // Update posisi pemain
        function updatePlayerPosition() {
            // Hapus token pemain
            const players = document.querySelectorAll('.player');
            players.forEach(player => player.remove());
            
            // Tambahkan token pemain ke posisi baru
            if (playerPosition <= 30) {
                const currentCell = board.children[playerPosition - 1];
                const playerToken = document.createElement('div');
                playerToken.className = 'player';
                currentCell.appendChild(playerToken);
            }
            
            // Update info pemain
            document.getElementById('position').textContent = playerPosition;
        }

        // Fungsi untuk melempar dadu
        function rollDice() {
            if (!gameActive) return;
            
            const diceElement = document.getElementById('dice');
            const rollButton = document.getElementById('roll-dice');
            rollButton.disabled = true;
            
            // Animasi dadu
            let rollCount = 0;
            const rollInterval = setInterval(() => {
                diceElement.textContent = Math.floor(Math.random() * 6) + 1;
                rollCount++;
                
                if (rollCount > 10) {
                    clearInterval(rollInterval);
                    
                    // Hasil akhir dadu
                    const diceResult = Math.floor(Math.random() * 6) + 1;
                    diceElement.textContent = diceResult;
                    
                    // Pindahkan pemain
                    movePlayer(diceResult);
                }
            }, 100);
        }

        // Fungsi untuk memindahkan pemain
        function movePlayer(steps) {
            const oldPosition = playerPosition;
            playerPosition = Math.min(playerPosition + steps, 30);
            
            // Animasi perpindahan
            let currentStep = oldPosition;
            const moveInterval = setInterval(() => {
                if (currentStep < playerPosition) {
                    currentStep++;
                    updatePlayerPosition();
                } else {
                    clearInterval(moveInterval);
                    
                    // Periksa apakah pemain mencapai kotak terakhir
                    if (playerPosition === 30) {
                        endGame();
                        return;
                    }
                    
                    // Periksa efek khusus pada kotak
                    checkSpecialEffect();
                }
            }, 300);
        }

        // Memeriksa efek khusus pada kotak
        function checkSpecialEffect() {
            document.getElementById('status').textContent = 'Memeriksa efek khusus...';
            
            if (specialCells.includes(playerPosition)) {
                // Maju atau mundur
                const effect = Math.random() < 0.5 ? 
                    Math.floor(Math.random() * 3) + 1 : 
                    -Math.floor(Math.random() * 3) - 1;
                
                setTimeout(() => {
                    document.getElementById('status').textContent = 
                        effect > 0 ? `Maju ${effect} langkah!` : `Mundur ${Math.abs(effect)} langkah!`;
                    
                    setTimeout(() => {
                        const newPosition = Math.max(1, Math.min(30, playerPosition + effect));
                        playerPosition = newPosition;
                        updatePlayerPosition();
                        
                        if (playerPosition === 30) {
                            endGame();
                            return;
                        }
                        
                        showQuestion();
                    }, 1000);
                }, 1000);
            } else if (bonusCells.includes(playerPosition)) {
                // Bonus poin
                setTimeout(() => {
                    document.getElementById('status').textContent = 'Bonus +2 poin!';
                    playerScore += 2;
                    document.getElementById('score').textContent = playerScore;
                    
                    setTimeout(() => {
                        showQuestion();
                    }, 1000);
                }, 1000);
            } else if (skipCells.includes(playerPosition)) {
                // Lewati giliran
                setTimeout(() => {
                    document.getElementById('status').textContent = 'Anda akan melewati giliran berikutnya!';
                    skipNextTurn = true;
                    
                    setTimeout(() => {
                        showQuestion();
                    }, 1000);
                }, 1000);
            } else {
                // Tidak ada efek khusus
                showQuestion();
            }
        }

        // Menampilkan pertanyaan
        function showQuestion() {
            // Pilih pertanyaan acak
            currentQuestion = questions[Math.floor(Math.random() * questions.length)];
            
            const questionContainer = document.getElementById('question-container');
            const questionText = document.getElementById('question-text');
            const optionsContainer = document.getElementById('options-container');
            const resultElement = document.getElementById('result');
            
            // Menampilkan pertanyaan
            questionText.textContent = currentQuestion.question;
            optionsContainer.innerHTML = '';
            
            // Menampilkan pilihan jawaban
            currentQuestion.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                optionElement.textContent = option;
                optionElement.dataset.index = index;
                
                optionElement.addEventListener('click', () => {
                    // Hapus seleksi sebelumnya
                    document.querySelectorAll('.option').forEach(opt => {
                        opt.classList.remove('selected');
                    });
                    
                    // Tandai pilihan yang dipilih
                    optionElement.classList.add('selected');
                    
                    // Periksa jawaban
                    const isCorrect = parseInt(optionElement.dataset.index) === currentQuestion.correctAnswer;
                    
                    resultElement.className = isCorrect ? 'result correct' : 'result incorrect';
                    resultElement.textContent = isCorrect ? 
                        'Benar! +1 poin' : 
                        `Salah! Jawaban yang benar adalah: ${currentQuestion.options[currentQuestion.correctAnswer]}`;
                    resultElement.style.display = 'block';
                    
                    // Update skor jika benar
                    if (isCorrect) {
                        playerScore += 1;
                        document.getElementById('score').textContent = playerScore;
                    }
                    
                    // Tampilkan tombol lanjutkan
                    document.getElementById('continue').style.display = 'block';
                });
                
                optionsContainer.appendChild(optionElement);
            });
            
            // Reset hasil
            resultElement.style.display = 'none';
            document.getElementById('continue').style.display = 'none';
            
            // Tampilkan container pertanyaan
            questionContainer.style.display = 'block';
            document.getElementById('status').textContent = 'Jawab pertanyaan...';
        }

        // Akhiri pertanyaan dan kembali ke game
        function endQuestion() {
            document.getElementById('question-container').style.display = 'none';
            
            // Aktifkan tombol dadu kembali jika tidak melewati giliran
            if (skipNextTurn) {
                document.getElementById('status').textContent = 'Melewati giliran berikutnya...';
                skipNextTurn = false;
                
                setTimeout(() => {
                    document.getElementById('status').textContent = 'Siap bermain';
                    document.getElementById('roll-dice').disabled = false;
                }, 1500);
            } else {
                document.getElementById('status').textContent = 'Siap bermain';
                document.getElementById('roll-dice').disabled = false;
            }
        }

        // Akhiri permainan
        function endGame() {
            document.getElementById('status').textContent = 'Permainan Selesai!';
            gameActive = false;
            
            // Tampilkan modal kemenangan
            const modal = document.getElementById('victory-modal');
            document.getElementById('final-score').textContent = playerScore;
            modal.style.display = 'flex';
            
            // Aktifkan tombol restart
            document.getElementById('restart').disabled = false;
        }

        // Restart permainan
        function restartGame() {
            playerPosition = 1;
            playerScore = 0;
            skipNextTurn = false;
            gameActive = true;
            
            document.getElementById('score').textContent = playerScore;
            document.getElementById('position').textContent = playerPosition;
            document.getElementById('status').textContent = 'Siap bermain';
            
            // Sembunyikan modal kemenangan
            document.getElementById('victory-modal').style.display = 'none';
            
            // Inisialisasi ulang papan
            initializeBoard();
            
            // Aktifkan tombol dadu dan nonaktifkan tombol restart
            document.getElementById('roll-dice').disabled = false;
            document.getElementById('restart').disabled = true;
        }

        // Event listeners
        document.getElementById('roll-dice').addEventListener('click', rollDice);
        document.getElementById('continue').addEventListener('click', endQuestion);
        document.getElementById('restart').addEventListener('click', restartGame);
        document.getElementById('play-again').addEventListener('click', restartGame);

        // Mulai permainan
        initializeBoard();
    </script>
</body>
</html>
